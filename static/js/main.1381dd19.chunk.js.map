{"version":3,"sources":["utility/helpers.js","utility/utils.js","components/YieldTable.js","contexts/filters.context.js","components/Filters.js","components/TopNavbar.js","contexts/inputs.context.js","components/Inputs.js","App.js","reportWebVitals.js","index.js","utility/api.js","utility/safetyScore.js"],"names":["textHasAnyOfArray","text","array","exact","t","indexOf","arrayHasAnyOfArray","assets","desired","d","a","numeral","require","calcDaily","apy","g","Math","pow","log10","isNaN","calcMonthly","formatAny","num","format","formatPercentage","toUpperCase","formatInteger","formatFiat","filterPools","pools","filters","desiredCoins","strictFilter","exactMatch","desiredPlatforms","desiredNetworks","includeSingleAssets","includeLPs","desiredPlatformsArray","trim","split","desiredNetworksArray","filter","pool","map","toLowerCase","length","desiredCoinsArray","exists","arrayHasAllOfArray","platform","network","addApyValues","yields","capital","parseFloat","y","totalApyAmount","totalApy","value","dailyApyAmount","dailyApy","monthlyApyAmount","monthlyApy","expandRow","renderer","Row","Col","vaultUrl","href","target","rel","addLiquidityUrl","buyTokenUrl","tokenAddress","addressUrl","prettyPercentage","formatApyAndAmount","amount","className","columns","dataField","sort","formatter","_","logo","name","Image","src","poolLogoUrl","coinLogoUrl","roundedCircle","asset","withdrawalFee","depositFee","safetyScore","tvl","YieldTable","keyField","data","striped","hover","bootstrap4","defaultSorted","order","emptyFilters","defaultFilters","FiltersContext","createContext","Filters","loading","poolCount","useContext","setFilters","handleChange","event","handleCheckBoxChange","checked","Jumbotron","Form","Group","Label","Control","size","type","placeholder","onChange","Check","Input","id","htmlFor","Spinner","animation","role","ButtonGroup","Button","variant","onClick","TopNavbar","useState","copied","setCopied","Navbar","bg","Brand","alt","Nav","OverlayTrigger","placement","overlay","Tooltip","onCopy","setTimeout","Link","defaultInputs","amountBefore","amountAfter","InputsContext","Inputs","inputs","setInputs","amountDifference","pnl","fieldsAreValid","sign","InputGroup","Prepend","Text","App","setYields","setLoading","useEffect","getYieldsWithPrices","_yields","fetchData","finalYields","self","Container","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","fetchPlus","url","options","retries","fetch","res","ok","Error","status","catch","error","console","message","getRandomParam","Date","getTime","networks","network_info","explorer","getPools","result","beginningText","endingText","substr","replace","jsonObj","eval","network_id","key","fetchAllPools","Promise","all","Object","keys","allCombined","concat","f","json","prices","apyBreakdowns","tvls","lpPrice","tvlToken","apyBreakdown","score","risks","beefyUrl","b","logosMap","JSON","parse","window","localStorage","getItem","getLogos","nextRefreshTime","now","githubRequestCount","rate","remaining","lastCommitSha","sha","repoPaths","tree","item","path","saLogosFolder","coinName","setItem","stringify","ticker","address","RISKS","COMPLEXITY_LOW","category","title","explanation","condition","COMPLEXITY_MID","COMPLEXITY_HIGH","BATTLE_TESTED","NEW_STRAT","EXPERIMENTAL_STRAT","IL_NONE","IL_LOW","IL_HIGH","ALGO_STABLE","LIQ_HIGH","LIQ_LOW","MCAP_LARGE","MCAP_MEDIUM","MCAP_SMALL","MCAP_MICRO","SUPPLY_CENTRALIZED","PLATFORM_ESTABLISHED","PLATFORM_NEW","NO_AUDIT","AUDIT","CONTRACTS_VERIFIED","CONTRACTS_UNVERIFIED","ADMIN_WITH_TIMELOCK","ADMIN_WITHOUT_TIMELOCK","CATEGORIES","arr","categories","c","forEach","r","idx","cat","push","warn","risk","min","reduce","acc","calcRisk"],"mappings":"oZAAaA,EAAoB,SAACC,EAAMC,GAAwB,IAAD,EAAhBC,EAAgB,sEAC9CD,GAD8C,IAC7D,IAAI,EAAJ,qBAAsB,CAAC,IAAbE,EAAY,QACpB,GAAGD,GACD,GAAGF,IAASG,EAAG,OAAO,OAEnB,IAAwB,IAArBH,EAAKI,QAAQD,GAAW,OAAO,GALoB,8BAO7D,OAAO,GAGIE,EAAqB,SAACC,EAAQC,GAA0B,IAAD,EAAhBL,EAAgB,sEACnDK,GADmD,IAClE,IAAI,EAAJ,qBAAwB,CAAC,IAAfC,EAAc,QACtB,GAAGN,GACD,IAA0B,IAAvBI,EAAOF,QAAQI,GAAW,OAAO,MAEjC,CAAC,IAAD,gBACYF,GADZ,IACH,IAAI,EAAJ,0BAAUG,EAAV,QACE,IAAqB,IAAlBA,EAAEL,QAAQI,GAAW,OAAO,GAF9B,iCAL2D,8BAUlE,OAAO,GClBHE,EAAUC,EAAQ,IAEXC,EAAY,SAAAC,GACvB,IAAMC,EAAIC,KAAKC,IAAI,GAAID,KAAKE,MAAMJ,EAAM,GAAK,KAAO,EAEpD,OAAIK,MAAMJ,GACD,EAGFA,GAGIK,EAAc,SAAAN,GACzB,OAAOA,EAAM,IAIFO,EAAY,SAACC,EAAKC,GAC7B,IAAMtB,EAAOU,EAAQW,GAAKC,OAAOA,GACjC,OAAgC,IAAzBtB,EAAKI,QAAQ,OAAgB,GAAKJ,GAG9BuB,EAAmB,SAACF,GAAD,OAASD,EAAUC,EAAK,UAAUG,eACrDC,EAAgB,SAACJ,GAAD,OAASD,EAAUC,EAAK,OAAOG,eAC/CE,EAAa,SAACL,GAAD,OAASD,EAAUC,EAAK,WAAWG,eAEhDG,EAAc,SAACC,EAAOC,GACjC,IAAQC,EAA+GD,EAA/GC,aAAcC,EAAiGF,EAAjGE,aAAcC,EAAmFH,EAAnFG,WAAYC,EAAuEJ,EAAvEI,iBAAkBC,EAAqDL,EAArDK,gBAAiBC,EAAoCN,EAApCM,oBAAqBC,EAAeP,EAAfO,WAClGC,EAAwBJ,EAAiBK,OAAOd,cAAce,MAAM,KACpEC,EAAuBN,EAAgBI,OAAOd,cAAce,MAAM,KAExE,OAAOX,EAAMa,QAAO,SAAAC,GAClB,IAAMpC,EAASoC,EAAKpC,OAAOqC,KAAI,SAAAlC,GAAC,OAAIA,EAAEmC,iBAEtC,IAAIR,GAAcM,EAAKpC,OAAOuC,OAAS,EAAG,OAAO,EACjD,IAAIV,GAA8C,IAAvBO,EAAKpC,OAAOuC,OAAc,OAAO,EAG5D,IAAMC,EAAoBhB,EAAaQ,OAAOM,cAAcL,MAAM,KAClE,GAAGO,EAAkBD,OAAS,EAE5B,GAA0B,IAAvBH,EAAKpC,OAAOuC,QACb,IAAIxC,EAAmBC,EAAQwC,EAAmBd,GAAa,OAAO,OAItE,GAAGD,GACD,ID1BwB,SAACzB,EAAQC,GAA0B,IAAD,EAAhBL,EAAgB,sEACnDI,GADmD,IAClE,IAAI,EAAJ,qBAAuB,CAAC,IAAdG,EAAa,QACrB,GAAGP,GACD,IAA2B,IAAxBK,EAAQH,QAAQK,GAAW,OAAO,MAElC,CACH,IADG,EACCsC,GAAS,EADV,cAEYxC,GAFZ,IAEH,IAAI,EAAJ,qBAAwB,CAAC,IAAfC,EAAc,QACtB,IAAqB,IAAlBC,EAAEL,QAAQI,GAAW,CACtBuC,GAAS,EACT,QALD,8BAQH,IAAIA,EAAQ,OAAO,IAb2C,8BAgBlE,OAAO,ECUKC,CAAmB1C,EAAQwC,EAAmBd,GAAa,OAAO,OAGtE,IAAI3B,EAAmBC,EAAQwC,EAAmBd,GAAa,OAAO,EAM5E,QAAGK,EAAsBQ,OAAS,IAC5B9C,EAAkB2C,EAAKO,SAASzB,cAAea,OAGlDG,EAAqBK,OAAS,IAC3B9C,EAAkB2C,EAAKQ,QAAQ1B,cAAegB,QAM3CW,EAAe,SAACC,EAAQC,GAEnC,OAAe,KADfA,EAAUA,EAAUC,WAAWD,GAAW,GACjBD,EAElBA,EAAOT,KAAI,SAAAY,GAAC,kCAEZA,GAFY,IAGfC,eAAgB9C,EAAQ6C,EAAEE,UAAUC,QAAUL,EAC9CM,eAAgBjD,EAAQ6C,EAAEK,UAAUF,QAAUL,EAC9CQ,iBAAkBnD,EAAQ6C,EAAEO,YAAYJ,QAAUL,S,qSC/DlDU,EAAY,CAChBC,SAAU,SAAAtB,GAAI,OACZ,cAACuB,EAAA,EAAD,UACA,eAACC,EAAA,EAAD,WACE,cAACD,EAAA,EAAD,UACIvB,EAAKyB,UACL,cAACD,EAAA,EAAD,UAAK,4BAAI,mBAAGE,KAAM1B,EAAKyB,SAAUE,OAAO,SAASC,IAAI,aAA5C,qDAGb,eAACL,EAAA,EAAD,YACKvB,EAAK6B,iBAAmB7B,EAAK8B,cAC9B,eAACN,EAAA,EAAD,WAAMxB,EAAK6B,iBAAmB,mBAAGH,KAAM1B,EAAK6B,gBAAiBF,OAAO,SAASC,IAAI,aAAnD,2BAA9B,IAAmH5B,EAAK6B,iBAAmB7B,EAAK8B,aAAgB,MAAhK,IAAwK9B,EAAK8B,aAAe,mBAAGJ,KAAM1B,EAAK8B,YAAaH,OAAO,SAASC,IAAI,aAA/C,0BAC7L5B,EAAK+B,cACJ,cAACP,EAAA,EAAD,UAAK,mBAAGE,KAAMM,YAAWhC,EAAKQ,QAASR,EAAK+B,cAAeJ,OAAO,SAASC,IAAI,aAA1E,SAAwF5B,EAAK+B,2BAoBtGE,EAAmB,SAAA9D,GACvB,IAAMb,EAAOuB,YAAiBV,GAC9B,MAAgB,KAATb,EAAc,eAAOA,GAGxB4E,EAAqB,SAAC/D,EAAKgE,GAAN,OACzB,qCACE,+BAAOF,EAAiB9D,KACvBgE,GAAiC,KAAvBnD,YAAWmD,GAAiB,sBAAMC,UAAW,6BAAjB,SAAgDpD,YAAWmD,KAAkB,OA0ElHE,EAAU,CACd,CACEC,UAAW,UACXhF,KAAM,UACNiF,MAAM,EACNC,UA1FqB,SAAAhC,GAAO,OAAIA,EAAQ1B,gBA6F1C,CACEwD,UAAW,WACXhF,KAAM,WACNiF,MAAM,GAER,CACED,UAAW,OACXhF,KAAM,OACNkF,UA/GkB,SAACC,EAAD,OAAKC,EAAL,EAAKA,KAAM9E,EAAX,EAAWA,OAAQ+E,EAAnB,EAAmBA,KAAnB,OACpB,qBAAKP,UAAU,YAAf,SACE,iCAAOM,EACC,cAACE,EAAA,EAAD,CAAOC,IAAKC,YAAYJ,KACR,IAAlB9E,EAAOuC,OACL,cAACyC,EAAA,EAAD,CAAOC,IAAKE,YAAYnF,EAAO,IAAKoF,eAAa,IAC/CpF,EAAOqC,KAAI,SAAAgD,GAAK,OAAI,cAACL,EAAA,EAAD,CAAOR,UAAU,eAA2BS,IAAKE,YAAYE,GAAQD,eAAa,GAA7CC,MAJnE,IAKON,SA0GT,CACEL,UAAW,WACXhF,KAAM,MACNiF,MAAM,EACNC,UA7FiB,SAACzB,EAAD,OAAYD,EAAZ,EAAYA,eAAZ,OAAgCoB,EAAmBnB,EAAUD,KA+FhF,CACEwB,UAAW,aACXhF,KAAM,UACNiF,MAAM,EACNC,UAlGqB,SAACpB,EAAD,OAAcD,EAAd,EAAcA,iBAAd,OAAoCe,EAAmBd,EAAYD,KAoG1F,CACEmB,UAAW,WACXhF,KAAM,QACNiF,MAAM,EACNC,UAvGmB,SAACtB,EAAD,OAAYD,EAAZ,EAAYA,eAAZ,OAAgCiB,EAAmBhB,EAAUD,KAyGlF,CACEqB,UAAW,gBACXhF,KAAM,WACNiF,MAAM,EACNC,UA3G2B,SAACU,EAAD,OAAiBhC,EAAjB,EAAiBA,SAAjB,OAA+B,sBAAMkB,UAC7B,IAAnCpE,IAAQkF,GAAelC,QAAgB,GACvChD,IAAQkF,GAAelC,QAAUE,EAAW,cAAgB,GAFF,SAE0B,OAAlBgC,EAAyB,IAAMA,MA2GnG,CACEZ,UAAW,aACXhF,KAAM,UACNiF,MAAM,EACNC,UA7GwB,SAACW,EAAD,OAAcjC,EAAd,EAAcA,SAAd,OAA4B,sBAAMkB,UAC1B,IAAhCpE,IAAQmF,GAAYnC,QAAgB,GACpChD,IAAQmF,GAAYnC,QAAUE,EAAW,cAAgB,GAFL,SAE0B,OAAfiC,EAAsB,IAAMA,MAkH7F,CACEb,UAAW,cACXhF,KAAM,OACNiF,MAAM,EACNC,UApHyB,SAACY,GAAD,OAAiB,sBAAMhB,UACf,WAAjCpE,IAAQoF,GAAapC,QAAuB,eACX,KAAjChD,IAAQoF,GAAapC,QAAiB,eACtChD,IAAQoF,GAAapC,SAAW,EAAI,cAAgB,GAHV,SAGgC,WAAhBoC,EAA2B,IAAsB,KAAhBA,EAAqB,SAAMpF,IAAQoF,GAAaxE,OAAO,WAmHpJ,CACE0D,UAAW,MACXhF,KAAM,MACNiF,MAAM,EACNC,UAnEiB,SAAAa,GAAG,OAAI,sBAAMjB,UAC9BpE,IAAQqF,GAAKrC,SAAW,IAAU,eAClChD,IAAQqF,GAAKrC,QAAU,IAAS,cAAgB,GAFxB,SAE6BhC,YAAWqE,QAgFrDC,EAXI,SAAC,GAAD,IAAE5C,EAAF,EAAEA,OAAF,OACjB,cAAC,IAAD,CACE6C,SAAS,MACTC,KAAM9C,EACN2B,QAASA,EACThB,UAAWA,EACXoC,SAAO,EACPC,OAAK,EACLC,YAAU,EACVC,cAAe,CAAC,CAAEtB,UAAW,WAAYuB,MAAO,Y,mDC5MvCC,EAAe,CAC1B1E,aAAc,GACdC,cAAc,EACdC,YAAY,EACZC,iBAAkB,GAClBC,gBAAiB,GACjBC,qBAAqB,EACrBC,YAAY,GAGDqE,EAAc,2BACtBD,GADsB,IAEzB1E,aAAc,uBAKD4E,EAFQC,wBAAcF,GCiEtBG,EAxEC,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,UACzB,EAAgCC,qBAAWL,GAAnC7E,EAAR,EAAQA,QAASmF,EAAjB,EAAiBA,WAEXC,EAAe,SAAAC,GACnB,MAAwBA,EAAM7C,OAAtBX,EAAR,EAAQA,MAAO2B,EAAf,EAAeA,KAEf2B,EAAW,2BAAInF,GAAL,kBAAewD,EAAO3B,MAG5ByD,EAAuB,SAAAD,GAC3B,MAA0BA,EAAM7C,OAAxB+C,EAAR,EAAQA,QAAS/B,EAAjB,EAAiBA,KAEjB2B,EAAW,2BAAInF,GAAL,kBAAewD,EAAO+B,MAG1BtF,EAA+GD,EAA/GC,aAAcC,EAAiGF,EAAjGE,aAAcC,EAAmFH,EAAnFG,WAAYC,EAAuEJ,EAAvEI,iBAAkBC,EAAqDL,EAArDK,gBAAiBC,EAAoCN,EAApCM,oBAAqBC,EAAeP,EAAfO,WAExG,OACI,eAACiF,EAAA,EAAD,CAAWvC,UAAU,UAArB,UACE,eAACwC,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,yCACA,cAACF,EAAA,EAAKG,QAAN,CAAcpC,KAAK,eAAe3B,MAAO5B,EAAc4F,KAAK,KAAKC,KAAK,OAAOC,YAAY,qBAAqBC,SAAUZ,IACxH,eAACK,EAAA,EAAKQ,MAAN,WACE,cAACR,EAAA,EAAKQ,MAAMC,MAAZ,CAAkBC,GAAG,eAAe3C,KAAK,eAAe+B,QAASrF,EAAc4F,KAAK,WAAWE,SAAUV,IACzG,eAACG,EAAA,EAAKQ,MAAMN,MAAZ,CAAkBS,QAAQ,eAA1B,mCAA+D,sBAAMnD,UAAU,SAAhB,8CAEjE,eAACwC,EAAA,EAAKQ,MAAN,WACE,cAACR,EAAA,EAAKQ,MAAMC,MAAZ,CAAkBC,GAAG,aAAa3C,KAAK,aAAa+B,QAASpF,EAAY2F,KAAK,WAAWE,SAAUV,IACnG,eAACG,EAAA,EAAKQ,MAAMN,MAAZ,CAAkBS,QAAQ,aAA1B,yBAAmD,sBAAMnD,UAAU,SAAhB,+CAIvD,uBAEA,eAACwC,EAAA,EAAKC,MAAN,WACE,eAACD,EAAA,EAAKQ,MAAN,WACE,cAACR,EAAA,EAAKQ,MAAMC,MAAZ,CAAkBC,GAAG,aAAa3C,KAAK,aAAa+B,QAAShF,EAAauF,KAAK,WAAWE,SAAUV,IACpG,cAACG,EAAA,EAAKQ,MAAMN,MAAZ,CAAkBS,QAAQ,aAA1B,wCAEF,eAACX,EAAA,EAAKQ,MAAN,WACE,cAACR,EAAA,EAAKQ,MAAMC,MAAZ,CAAkBC,GAAG,sBAAsB3C,KAAK,sBAAsB+B,QAASjF,EAAqBwF,KAAK,WAAWE,SAAUV,IAC9H,cAACG,EAAA,EAAKQ,MAAMN,MAAZ,CAAkBS,QAAQ,sBAA1B,yCAIJ,uBAEA,eAACX,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,6CACA,cAACF,EAAA,EAAKG,QAAN,CAAcpC,KAAK,mBAAmB3B,MAAOzB,EAAkByF,KAAK,KAAKC,KAAK,OAAOC,YAAY,uBAAuBC,SAAUZ,OAGpI,uBAEA,eAACK,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,4CACA,cAACF,EAAA,EAAKG,QAAN,CAAcpC,KAAK,kBAAkB3B,MAAOxB,EAAiBwF,KAAK,KAAKC,KAAK,OAAOC,YAAY,mBAAmBC,SAAUZ,OAG9H,uBAEA,+BAAOJ,EAAU,yDAAmB,cAACqB,EAAA,EAAD,CAASR,KAAK,KAAKS,UAAU,SAASC,KAAK,cAC/D,IAAdtB,EAAkB,4CAAlB,gBACWA,EADX,gBAC0C,IAAdA,EAAkB,GAAK,IADnD,qCAEF,eAACuB,EAAA,EAAD,CAAavD,UAAU,oBAAvB,UACE,cAACwD,EAAA,EAAD,CAAQZ,KAAK,KAAKa,QAAQ,OAAOC,QAAS,WAAQxB,EAAWR,IAA7D,2BACA,cAAC8B,EAAA,EAAD,CAAQZ,KAAK,KAAKa,QAAQ,UAAUC,QAAS,WAAQxB,EAAWP,IAAhE,oC,mCCpCKgC,G,OAlCG,WAChB,MAA4BC,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KAEA,OACE,eAACC,EAAA,EAAD,CAAQC,GAAG,OAAOP,QAAQ,OAA1B,UACI,eAACM,EAAA,EAAOE,MAAR,CAAc3E,KAAK,GAAnB,UACE,qBACE4E,IAAI,GACJzD,IAAI,iBACJT,UAAU,iBACT,MACH,sBAAMA,UAAU,eAAhB,4BAEF,cAACmE,EAAA,EAAD,CAAKnE,UAAU,UAAf,SACE,cAACoE,EAAA,EAAD,CACEC,UAAU,SACVC,QAAS,cAACC,EAAA,EAAD,UAAUV,EAAS,UAAY,mBAF1C,SAIE,cAAC,kBAAD,CAAiB3I,KAAM,6CACvBsJ,OAAQ,WACNV,GAAU,GACVW,YAAW,WAAQX,GAAU,KAAS,MAHxC,SAKE,sHAIR,cAACK,EAAA,EAAD,UACE,cAACA,EAAA,EAAIO,KAAL,CAAU1E,UAAU,iBAAiBV,KAAM,kCAAmCC,OAAO,SAASC,IAAI,aAAlG,4B,SC1BKmF,EAAa,eANC,CACzBpG,QAAS,IACTqG,aAAc,IACdC,YAAa,QASAC,EAFOjD,wBAAc8C,GC4CrBI,EA/CA,WACb,MAA8B9C,qBAAW6C,GAAjCE,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAEV9C,EAAe,SAAAC,GACnB,MAAwBA,EAAM7C,OAAtBX,EAAR,EAAQA,MAAO2B,EAAf,EAAeA,KAEf0E,EAAU,2BAAID,GAAL,kBAAczE,EAAO3B,MAGxBL,EAAuCyG,EAAvCzG,QAASqG,EAA8BI,EAA9BJ,aAAcC,EAAgBG,EAAhBH,YAEzBK,EAAmBL,EAAcD,EACjCO,EAAMD,EAAmBN,EACzBQ,EAAiC,KAAhBP,GAAuC,KAAjBD,EACvCS,EAAOF,EAAM,EAAI,IAAM,GAE7B,OACE,eAAC5C,EAAA,EAAD,CAAWvC,UAAU,UAArB,UACE,cAACwC,EAAA,EAAKE,MAAN,mCACA,eAAC4C,EAAA,EAAD,CAAYtF,UAAU,OAAO4C,KAAK,KAAlC,UACE,cAAC0C,EAAA,EAAWC,QAAZ,UACE,cAACD,EAAA,EAAWE,KAAZ,kBAEF,cAAChD,EAAA,EAAKG,QAAN,CAAcpC,KAAK,UAAU3B,MAAOL,EAASsE,KAAK,SAASC,YAAY,YAAYC,SAAUZ,OAG/F,uBAEA,cAACK,EAAA,EAAKE,MAAN,gDACA,eAAC4C,EAAA,EAAD,CAAYtF,UAAU,OAAO4C,KAAK,KAAlC,UACE,cAAC0C,EAAA,EAAWC,QAAZ,UACE,cAACD,EAAA,EAAWE,KAAZ,uBAEF,cAAChD,EAAA,EAAKG,QAAN,CAAcpC,KAAK,eAAe3B,MAAOgG,EAAc/B,KAAK,SAASC,YAAY,YAAYC,SAAUZ,IACvG,cAACmD,EAAA,EAAWC,QAAZ,UACE,cAACD,EAAA,EAAWE,KAAZ,sBAEF,cAAChD,EAAA,EAAKG,QAAN,CAAcpC,KAAK,cAAc3B,MAAOiG,EAAahC,KAAK,SAASC,YAAY,YAAYC,SAAUZ,OAEvG,cAACK,EAAA,EAAKE,MAAN,CAAY1C,WAAaoF,GAAkBD,EAAM,EAAI,eAAiBA,EAAM,EAAI,cAAgB,GAAhG,SACIC,EAAiB,QAAUC,EAAO/I,YAAU4I,EAAkB,aAAe,KAAOG,EAAO/I,YAAU6I,EAAK,YAAc,IACxH,+BCuBKM,EAzDH,WACV,MAA4B7B,mBAAS,IAArC,mBAAOtF,EAAP,KAAeoH,EAAf,KACA,EAA4B9B,mBAASe,GAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA8BrB,mBAASjC,GAAvC,mBAAO5E,EAAP,KAAgBmF,EAAhB,KACA,EAA8B0B,oBAAS,GAAvC,mBAAO7B,EAAP,KAAgB4D,EAAhB,KAEAC,qBAAU,WAAM,4CACd,4BAAAjK,EAAA,6DAEEgK,GAAW,GAFb,SAGwBE,cAHxB,OAGQC,EAHR,OAIEH,GAAW,GACXD,EAAUI,GALZ,4CADc,uBAAC,WAAD,wBAQdC,KACC,IAEH,IAAMC,EAAc3H,YAAaxB,YAAYyB,EAAQvB,GAASc,KAAI,SAAAD,GAAI,kCAAUA,GAAV,IAAgBqI,KAAMrI,OAAUoH,EAAOzG,SAC7G,OACE,sBAAKyB,UAAU,cAAf,UACE,cAACkG,EAAA,EAAD,CAAWlG,UAAU,UAArB,SACE,cAACb,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACA,cAAC,EAAD,UAKJ,cAAC,EAAc+G,SAAf,CAAwBvH,MAAO,CAACoG,SAAQC,aAAxC,SACA,cAAC,EAAekB,SAAhB,CAAyBvH,MAAO,CAAC7B,UAASmF,cAA1C,SACA,eAACgE,EAAA,EAAD,CAAWlG,UAAU,UAArB,UACE,eAACb,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAAC,EAAD,CAAS2C,QAASA,EAASC,UAAWgE,EAAYjI,WAEpD,cAACqB,EAAA,EAAD,UACE,cAAC,EAAD,SAGA2C,EACA,cAACqB,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtD,UAAU,UAAhB,0BAGF,cAACb,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,cAAC,EAAD,CAAYd,OAAQ0H,mBClDrBI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K,qjDCdMc,UAAY,SAAZA,EAAaC,GAAD,IAAMC,EAAN,uDAAgB,GAAIC,EAApB,uDAA8B,IAA9B,OAChBC,MAAMH,EAAKC,GACRb,MAAK,SAAAgB,GACJ,GAAIA,EAAIC,GACN,OAAOD,EAET,GAAIF,EAAU,EACZ,OAAOH,EAAUC,EAAKC,EAASC,EAAU,GAE3C,MAAM,IAAII,MAAMF,EAAIG,WAErBC,OAAM,SAAAC,GAAK,OAAIC,QAAQD,MAAMA,EAAME,aAElCC,eAAiB,iBAAM,OAAS,IAAIC,MAAQC,WAE5CC,SAAW,CAAC,YAAa,MAAO,SAAU,OAAQ,UAAW,WAAY,UAAW,OAAQ,YAAa,SAAU,OAAQ,QAAS,UACpIC,aAAe,CACnB,IAAO,CACLjF,GAAI,GACJkF,SAAU,wBAEZ,KAAQ,CACNlF,GAAI,IACJkF,SAAU,yBAEZ,QAAW,CACTlF,GAAI,IACJkF,SAAU,4BAEZ,OAAU,CACRlF,GAAI,IACJkF,SAAU,wBAEZ,UAAa,CACXlF,GAAI,MACJkF,SAAU,yCAEZ,SAAY,CACVlF,GAAI,MACJkF,SAAU,wBAEZ,QAAW,CACTlF,GAAI,QACJkF,SAAU,iCAEZ,KAAQ,CACNlF,GAAI,MACJkF,SAAU,8BAEZ,UAAa,CACXlF,GAAI,KACJkF,SAAU,kDAEZ,OAAU,CACRlF,GAAI,GACJkF,SAAU,uCAEZ,KAAQ,CACNlF,GAAI,IACJkF,SAAU,6BAEZ,MAAS,CACPlF,GAAI,KACJkF,SAAU,wCAEZ,OAAU,CACRlF,GAAI,WACJkF,SAAU,yCAIRC,SAAQ,mWAAG,iBAAOjK,QAASyE,MAAhB,wFAAAlH,EAAA,iKAAAA,EAAA,2GACM2L,OACP,UAATzE,KAAA,qGACiGzE,QADjG,kHAEiGA,QAFjG,cAGK2J,kBALK,cACTO,OADS,8BAOEA,OAAOpN,OAPT,OAOXA,KAPW,cAQTqN,cAAgB,OAChBC,WAAa,KACnBtN,KAAOA,KAAKuN,OAAOvN,KAAKI,QAAQiN,eAAiBA,cAAcxK,OAAS,EACpE7C,KAAKI,QAAQkN,YAAcA,WAAWzK,QACrC2K,QAAQ,gCAAiC,IACzCA,QAAQ,aAAc,IACtBA,QAAQ,oBAAqB,gBAE5BC,QAAUC,KAAK1N,MAhBN,gMAkBCyN,SAlBD,IAkBf,IAAI,UAAJ,iCAAyB,CAiBvB,GAjBM/K,KAAiB,YACvBA,KAAKQ,QAAUA,QACfR,KAAKiL,WAAaV,aAAa/J,SAAS8E,GACxCtF,KAAKkL,IAAM1K,QAAU,IAAMR,KAAKsF,GAChCtF,KAAKiF,KAAOA,KAGTjF,KAAKkD,eAAiBlD,KAAKkD,cAAc/C,OAAS,IACzB,SAAvBH,KAAKkD,gBACNlD,KAAKkD,cAAgB,MAEM,MAA1BlD,KAAKkD,cAAc,KACpBlD,KAAKkD,cAAgB,IAAMlD,KAAKkD,gBAKjClD,KAAKpC,OAAQ,CACdoC,KAAKpC,OAASoC,KAAKpC,OAAO2E,OAC1BvC,KAAK2C,KAAO,GAFE,iMAGD3C,KAAKpC,QAHJ,IAGd,IAAI,WAAJ,mCAAQG,EAAkB,aACP,KAAdiC,KAAK2C,OAAa3C,KAAK2C,MAAQ,UAClC3C,KAAK2C,MAAQ5E,EALD,qDAUbiC,KAAKmD,YAAcnD,KAAKmD,WAAWhD,OAAS,IACnB,MAAvBH,KAAKmD,WAAW,KACjBnD,KAAKmD,WAAa,IAAMnD,KAAKmD,YAE/BnD,KAAKmD,WAAanD,KAAKmD,WAAW2H,QAAQ,IAAK,MAjDpC,kFAqDRC,SArDQ,yDAAH,2DAwDRI,cAAa,gWAAG,kMAAApN,EAAA,6DAChBmB,EAAQ,CACV,MAAS,GACT,KAAQ,IAHU,SAMdkM,QAAQC,IAAIC,OAAOC,KAAKrM,GAAOe,IAAnB,iBAAAqL,OAAA,qKAAAA,CAAA,kKAAuB,WAAMrG,GAAN,iKAAAlH,EAAA,sEACjCqN,QAAQC,IAAIf,SAASrK,IAAT,gWAAa,WAAMO,GAAN,iKAAAzC,EAAA,sEACA0M,SAASjK,EAASyE,GADlB,OAC7B/F,EAAM+F,GAAMzE,GADiB,kDAAb,wDADqB,2CAAvB,wDANE,OAepB,IAFIgL,EAAc,GAEd,EAAJ,IAAgBF,OAAOC,KAAKrM,GAA5B,gBAAQ+F,EAAR,6LACqBqF,UADrB,IACE,IAAI,EAAJ,qBAAQ9J,EAAR,QACEgL,EAAcA,EAAYC,OAAOvM,EAAM+F,GAAMzE,IAFjD,0BAAAkL,KAfoB,yBAmBbF,GAnBa,2CAAH,qDAsBNvD,oBAAmB,gWAAG,0LAAAlK,EAAA,sEACZoN,gBADY,cAC3BzK,EAD2B,gBAEL4I,UAAU,gCAAkCa,kBAFvC,8BAE0DwB,OAF1D,cAE3BC,EAF2B,iBAGEtC,UAAU,0CAA4Ca,kBAHxD,gCAG2EwB,OAH3E,eAG3BE,EAH2B,iBAIPvC,UAAU,gCAAkCa,kBAJrC,gCAIwDwB,OAJxD,eAI3BG,EAJ2B,yBAM1BpL,EAAOT,KAAI,SAAAD,GAChB,IAAM+L,EAAUH,EAAO5L,EAAKsF,IACtB0G,EAAWF,EAAK9L,EAAKiL,YAAca,EAAK9L,EAAKiL,YAAYjL,EAAKsF,IAAM,GACpE2G,EAAeJ,EAAc7L,EAAKsF,IAClC4G,EAAQ9I,oDAAYpD,EAAKmM,OAC/B,OAAO,+fACL1K,SAAU2K,SAASpM,EAAKQ,QAASR,EAAKsF,IACtCpC,cAAe,OACfC,WAAY,KACZjC,SAAU+K,GAAgB/N,8CAAU+N,EAAalL,UACjDK,WAAY6K,GAAgBxN,8CAAYwN,EAAalL,WAClDf,GANL,IAOE+L,QAASA,EACT1I,IAAK2I,GACFC,GATL,IAUE7I,YAAuB,OAAV8I,EAAiB,SAAWA,OAE1CnM,QAAO,SAAAC,GAAI,OAAIA,EAAKqD,IAAM,GAAKrD,EAAKe,SAAW,QAC7CwB,MAAK,SAACxE,EAAGsO,GAAJ,OAAUtO,EAAEgD,SAAWsL,EAAEtL,SAAW,GAAK,MAxBlB,4CAAH,qDA4B5BuL,SAAWC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,aAEhDC,SAAQ,gWAAG,wMAAA7O,EAAA,yDACXuO,YAAYA,SAASO,iBAAmBzC,KAAK0C,OADlC,wBAEbR,SAAW,GACLS,EAAqB,EAHd,SAIgBrD,MAAM,qCAJtB,8BAI4DiC,OAJ5D,sBAIoEqB,KAAKC,UAJzE,KAIsFF,IAJtF,8CAMuBrD,MAAM,sEAN7B,gCAMoGiC,OANpG,eAMPuB,EANO,OAM4GC,IAN5G,UAOkBzD,MAAM,iEAAD,OAAkEwD,EAAlE,iBAPvB,gCAOuHvB,OAPvH,QAOPyB,EAPO,+LAUKA,EAAUC,MAVf,8DAWQ,8BADXC,EAVG,SAWDC,KAXC,kCAY0B7D,MAAM4D,EAAK/D,KAZrC,gCAY2CoC,OAZ3C,QAYH6B,EAZG,+LAcSA,EAAcH,MAdvB,IAcP,IAAI,EAAJ,qBAAQC,EAA4B,QAC9BG,EAAWH,EAAKC,KAAK1N,MAAM,KAAK,GACpCyM,SAASmB,GAAYH,EAAKC,KAhBrB,2MAwBXjB,SAASO,gBAAkBzC,KAAK0C,MAAQ,IACxCL,OAAOC,aAAagB,QAAQ,WAAYnB,KAAKoB,UAAUrB,WAzB5C,iEAAH,qDA6BdM,WAEO,IAAM7J,YAAc,SAAC6K,GAAD,MAAY,4FAA+FtB,SAASsB,IAClI9K,YAAc,SAAAyK,GAAI,MAAI,8EAAiFA,GACvGvL,WAAa,SAACxB,EAASqN,GAAV,OAAsBtD,aAAa/J,GAASgK,SAAW,WAAaqD,GACjFzB,SAAW,SAAC5L,EAAS8E,GAAV,MAAiB,gCAAiC9E,EAAU,UAAY8E,I,qDCtNzF,IAEMwI,EAAQ,CACnBC,eAAgB,CACdC,SAAU,gBACV9B,MAAO,EACP+B,MAAO,sBACPC,YAAa,sBACbC,UAAW,uBAGbC,eAAgB,CACdJ,SAAU,gBACV9B,MAAO,GACP+B,MAAO,sBACPC,YAAa,sBACbC,UAAW,uBAGbE,gBAAiB,CACfL,SAAU,gBACV9B,MAAO,GACP+B,MAAO,qBACPC,YAAa,qBACbC,UAAW,sBAGbG,cAAe,CACbN,SAAU,gBACV9B,MAAO,EACP+B,MAAO,oBACPC,YAAa,oBACbC,UAAW,qBAGbI,UAAW,CACTP,SAAU,gBACV9B,MAAO,GACP+B,MAAO,iBACPC,YAAa,iBACbC,UAAW,kBAGbK,mBAAoB,CAClBR,SAAU,gBACV9B,MAAO,GACP+B,MAAO,uBACPC,YAAa,uBACbC,UAAW,wBAGbM,QAAS,CACPT,SAAU,gBACV9B,MAAO,EACP+B,MAAO,eACPC,YAAa,eACbC,UAAW,gBAGbO,OAAQ,CACNV,SAAU,gBACV9B,MAAO,GACP+B,MAAO,cACPC,YAAa,cACbC,UAAW,eAGbQ,QAAS,CACPX,SAAU,gBACV9B,MAAO,GACP+B,MAAO,eACPC,YAAa,eACbC,UAAW,gBAGbS,YAAa,CACXZ,SAAU,gBACV9B,MAAO,GACP+B,MAAO,qBACPC,YAAa,qBACbC,UAAW,sBAGbU,SAAU,CACRb,SAAU,gBACV9B,MAAO,EACP+B,MAAO,oBACPC,YAAa,oBACbC,UAAW,qBAGbW,QAAS,CACPd,SAAU,gBACV9B,MAAO,GACP+B,MAAO,mBACPC,YAAa,mBACbC,UAAW,oBAGbY,WAAY,CACVf,SAAU,gBACV9B,MAAO,EACP+B,MAAO,oBACPC,YAAa,oBACbC,UAAW,qBAGba,YAAa,CACXhB,SAAU,gBACV9B,MAAO,GACP+B,MAAO,kBACPC,YAAa,kBACbC,UAAW,mBAGbc,WAAY,CACVjB,SAAU,gBACV9B,MAAO,GACP+B,MAAO,oBACPC,YAAa,oBACbC,UAAW,qBAGbe,WAAY,CACVlB,SAAU,gBACV9B,MAAO,GACP+B,MAAO,oBACPC,YAAa,oBACbC,UAAW,qBAGbgB,mBAAoB,CAClBnB,SAAU,gBACV9B,MAAO,EACP+B,MAAO,oBACPC,YAAa,oBACbC,UAAW,qBAGbiB,qBAAsB,CACpBpB,SAAU,mBACV9B,MAAO,EACP+B,MAAO,yBACPC,YAAa,yBACbC,UAAW,0BAGbkB,aAAc,CACZrB,SAAU,mBACV9B,MAAO,GACP+B,MAAO,mBACPC,YAAa,mBACbC,UAAW,oBAGbmB,SAAU,CACRtB,SAAU,mBACV9B,MAAO,GACP+B,MAAO,uBACPC,YAAa,uBACbC,UAAW,wBAGboB,MAAO,CACLvB,SAAU,mBACV9B,MAAO,EACP+B,MAAO,qBACPC,YAAa,qBACbC,UAAW,sBAGbqB,mBAAoB,CAClBxB,SAAU,mBACV9B,MAAO,EACP+B,MAAO,wBACPC,YAAa,wBACbC,UAAW,yBAGbsB,qBAAsB,CACpBzB,SAAU,mBACV9B,MAAO,EACP+B,MAAO,0BACPC,YAAa,0BACbC,UAAW,2BAGbuB,oBAAqB,CACnB1B,SAAU,mBACV9B,MAAO,EACP+B,MAAO,wBACPC,YAAa,wBACbC,UAAW,yBAGbwB,uBAAwB,CACtB3B,SAAU,mBACV9B,MAAO,GACP+B,MAAO,0BACPC,YAAa,0BACbC,UAAW,4BAIFyB,EAAa,CACxB,gBAAiB,GACjB,gBAAiB,GACjB,mBAAoB,IA8CPxM,IANK,SAAAyM,GAClB,OAAKA,GAAsB,IAAfA,EAAI1P,OAxPO,IA0PF,EAxCN,SAAA0P,GACf,IAAMC,EAAa,GACnB,IAAK,IAAMC,KAAKH,EACdE,EAAWC,GAAK,GAIlBF,EAAIG,SAAQ,SAACC,EAAGC,GACd,GAAMD,KAAKnC,EAAX,CAKA,IAAMqC,EAAMrC,EAAMmC,GAAGjC,SACfmC,KAAOP,EAKbE,EAAWK,GAAKC,KAAKH,GAJnBhG,QAAQoG,KAAK,mBAAoBF,OAQrC,IAAIG,EAAO,EACX,IAAK,IAAMP,KAAKH,EAEdU,GADUV,EAAWG,GAGnB1R,KAAKkS,IACH,EACAT,EAAWC,GAAGS,QAAO,SAACC,EAAKR,GAAN,OAAYQ,EAAM3C,EAAMmC,GAAG/D,QAAO,IAI7D,OAAOoE,EAMkBI,CAASb,IAFG,O","file":"static/js/main.1381dd19.chunk.js","sourcesContent":["export const textHasAnyOfArray = (text, array, exact=false) => {\r\n  for(const t of array) {\r\n    if(exact) {\r\n      if(text === t) return true\r\n    }\r\n    else if(text.indexOf(t) !== -1) return true\r\n  }\r\n  return false\r\n}\r\n\r\nexport const arrayHasAnyOfArray = (assets, desired, exact=false) => {\r\n  for(const d of desired) {\r\n    if(exact) {\r\n      if(assets.indexOf(d) !== -1) return true\r\n    }\r\n    else {\r\n      for(const a of assets)\r\n        if(a.indexOf(d) !== -1) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const arrayHasAllOfArray = (assets, desired, exact=false) => {\r\n  for(const a of assets) {\r\n    if(exact) {\r\n      if(desired.indexOf(a) === -1) return false\r\n    }\r\n    else {\r\n      let exists = false\r\n      for(const d of desired) {\r\n        if(a.indexOf(d) !== -1) {\r\n          exists = true\r\n          break\r\n        }\r\n      }\r\n      if(!exists) return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n","import {arrayHasAllOfArray, arrayHasAnyOfArray, textHasAnyOfArray} from './helpers'\r\n\r\nconst numeral = require('numeral')\r\n\r\nexport const calcDaily = apy => {\r\n  const g = Math.pow(10, Math.log10(apy + 1) / 365) - 1;\r\n\r\n  if (isNaN(g)) {\r\n    return 0;\r\n  }\r\n\r\n  return g;\r\n}\r\n\r\nexport const calcMonthly = apy => {\r\n  return apy / 12\r\n}\r\n\r\n\r\nexport const formatAny = (num, format) => {\r\n  const text = numeral(num).format(format)\r\n  return text.indexOf('NaN') !== -1 ? '' : text\r\n}\r\n\r\nexport const formatPercentage = (num) => formatAny(num, '0.00a%').toUpperCase()\r\nexport const formatInteger = (num) => formatAny(num, '0,0').toUpperCase()\r\nexport const formatFiat = (num) => formatAny(num, '$0,0.0a').toUpperCase()\r\n\r\nexport const filterPools = (pools, filters) => {\r\n  const { desiredCoins, strictFilter, exactMatch, desiredPlatforms, desiredNetworks, includeSingleAssets, includeLPs } = filters\r\n  const desiredPlatformsArray = desiredPlatforms.trim().toUpperCase().split(' ')\r\n  const desiredNetworksArray = desiredNetworks.trim().toUpperCase().split(' ')\r\n\r\n  return pools.filter(pool => {\r\n    const assets = pool.assets.map(a => a.toLowerCase())\r\n\r\n    if(!includeLPs && pool.assets.length > 1) return false\r\n    if(!includeSingleAssets && pool.assets.length === 1) return false\r\n\r\n    // Filter coins\r\n    const desiredCoinsArray = desiredCoins.trim().toLowerCase().split(' ')\r\n    if(desiredCoinsArray.length > 0) {\r\n      // Single asset\r\n      if(pool.assets.length === 1) {\r\n        if(!arrayHasAnyOfArray(assets, desiredCoinsArray, exactMatch)) return false\r\n      }\r\n      // Liquidity Pool\r\n      else {\r\n        if(strictFilter) {\r\n          if(!arrayHasAllOfArray(assets, desiredCoinsArray, exactMatch)) return false\r\n        }\r\n        else {\r\n          if(!arrayHasAnyOfArray(assets, desiredCoinsArray, exactMatch)) return false\r\n        }\r\n      }\r\n    }\r\n\r\n    // Filter platforms\r\n    if(desiredPlatformsArray.length > 0)\r\n      if(!textHasAnyOfArray(pool.platform.toUpperCase(), desiredPlatformsArray)) return false\r\n\r\n    // Filter networks\r\n    if(desiredNetworksArray.length > 0)\r\n      if(!textHasAnyOfArray(pool.network.toUpperCase(), desiredNetworksArray)) return false\r\n\r\n    return true\r\n  })\r\n}\r\n\r\nexport const addApyValues = (yields, capital) => {\r\n  capital = capital ? parseFloat(capital) : 0\r\n  if(capital === 0) return yields\r\n\r\n  return yields.map(y => (\r\n    {\r\n      ...y,\r\n      totalApyAmount: numeral(y.totalApy).value() * capital,\r\n      dailyApyAmount: numeral(y.dailyApy).value() * capital,\r\n      monthlyApyAmount: numeral(y.monthlyApy).value() * capital,\r\n    }\r\n  ))\r\n}","import React from 'react'\r\nimport numeral from 'numeral'\r\nimport './YieldTable.scss'\r\n\r\nimport BootstrapTable from 'react-bootstrap-table-next'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nimport {Image, OverlayTrigger, Popover} from 'react-bootstrap'\r\nimport {addressUrl, coinLogoUrl, poolLogoUrl} from '../utility/api'\r\nimport {formatFiat, formatInteger, formatPercentage} from '../utility/utils'\r\n\r\nconst expandRow = {\r\n  renderer: pool => (\r\n    <Row>\r\n    <Col>\r\n      <Row>\r\n        { pool.vaultUrl &&\r\n          <Col><b>{<a href={pool.vaultUrl} target=\"_blank\" rel=\"noreferrer\">Deposit on Beefy / View APY Chart</a>}</b></Col>}\r\n\r\n      </Row>\r\n      <Row>\r\n        { (pool.addLiquidityUrl || pool.buyTokenUrl) &&\r\n          <Col>{pool.addLiquidityUrl && <a href={pool.addLiquidityUrl} target=\"_blank\" rel=\"noreferrer\">Add Liquidity</a>} {(pool.addLiquidityUrl && pool.buyTokenUrl) && ' | '} {pool.buyTokenUrl && <a href={pool.buyTokenUrl} target=\"_blank\" rel=\"noreferrer\">Buy Token</a>}</Col>}\r\n        {pool.tokenAddress &&\r\n          <Col><a href={addressUrl(pool.network, pool.tokenAddress)} target=\"_blank\" rel=\"noreferrer\">{pool.tokenAddress}</a></Col>}\r\n      </Row>\r\n    </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst poolFormatter = (_, {logo, assets, name}) =>\r\n  <div className='pool-name'>\r\n    <span>{logo ?\r\n            <Image src={poolLogoUrl(logo)} /> :\r\n          assets.length === 1 ?\r\n            <Image src={coinLogoUrl(assets[0])} roundedCircle /> :\r\n              assets.map(asset => <Image className='stacked-logo' key={asset} src={coinLogoUrl(asset)} roundedCircle />)\r\n        } {name}</span>\r\n  </div>\r\n\r\nconst networkFormatter = network => network.toUpperCase()\r\n\r\n\r\nconst prettyPercentage = apy => {\r\n  const text = formatPercentage(apy)\r\n  return text === '' ? '🔥' : text\r\n}\r\n\r\nconst formatApyAndAmount = (apy, amount) =>\r\n  <>\r\n    <span>{prettyPercentage(apy)}</span>\r\n    {amount && formatFiat(amount) !== '' ? <span className={'text-success apy-fiat-text'}>{formatFiat(amount)}</span> : ''}\r\n  </>\r\n\r\nconst apyFormatter = (totalApy, {totalApyAmount}) => formatApyAndAmount(totalApy, totalApyAmount)\r\nconst monthlyFormatter = (monthlyApy, {monthlyApyAmount}) => formatApyAndAmount(monthlyApy, monthlyApyAmount)\r\nconst dailyFormatter = (dailyApy, {dailyApyAmount}) => formatApyAndAmount(dailyApy, dailyApyAmount)\r\n\r\nconst withdrawalFeeFormatter = (withdrawalFee, {dailyApy}) => <span className={\r\n    numeral(withdrawalFee).value() === 0 ? '' :\r\n    numeral(withdrawalFee).value() > dailyApy ? 'text-danger' : ''}>{(withdrawalFee === \"0%\" ? '-' : withdrawalFee)}</span>\r\n\r\nconst depositFeeFormatter = (depositFee, {dailyApy}) => <span className={\r\n    numeral(depositFee).value() === 0 ? '' :\r\n    numeral(depositFee).value() > dailyApy ? 'text-danger' : ''}>{(depositFee === \"0%\" ? '-' : depositFee)}</span>\r\n\r\nconst safetyScoreFormatter = (safetyScore) => <span className={\r\n    numeral(safetyScore).value() === 9.991337 ? 'text-warning' : \r\n    numeral(safetyScore).value() === 10 ? 'text-success' : \r\n    numeral(safetyScore).value() <= 8 ? 'text-danger' : ''}>{(safetyScore === 9.991337 ? '?' : safetyScore === 10 ? '✓' : numeral(safetyScore).format(\"0.0\"))}</span>\r\n\r\nconst tradingFeesFormatter = (_, pool) =>\r\npool.tradingApr ?\r\n  <OverlayTrigger\r\n    overlay={\r\n      <Popover id=\"popover-basic\">\r\n        <Popover.Title as=\"h3\">APY Breakdown</Popover.Title>\r\n        <Popover.Content>\r\n          <Table striped bordered hover>\r\n            <tbody>\r\n            {pool.compoundingsPerYear && <tr>\r\n              <td>Compounds</td>\r\n              <td>{formatInteger(pool.compoundingsPerYear)}</td>\r\n            </tr>}\r\n            {pool.vaultApr && <tr>\r\n              <td>Vault APR</td>\r\n              <td>{prettyPercentage(pool.vaultApr)}</td>\r\n            </tr>}\r\n            {pool.beefyPerformanceFee && <tr>\r\n              <td>Beefy Fee</td>\r\n              <td>{prettyPercentage(pool.beefyPerformanceFee)}</td>\r\n            </tr>}\r\n            {pool.callFee && <tr>\r\n              <td>Call Fee</td>\r\n              <td>{prettyPercentage(pool.callFee/100)}</td>\r\n            </tr>}\r\n            {pool.vaultApy && <tr>\r\n              <td>Vault APY</td>\r\n              <td>{prettyPercentage(pool.vaultApy)}</td>\r\n            </tr>}\r\n            {pool.lpFee && <tr>\r\n              <td>LP Fee</td>\r\n              <td>{prettyPercentage(pool.lpFee)}</td>\r\n            </tr>}\r\n            {pool.tradingApr && <tr>\r\n              <td>Trading APR</td>\r\n              <td>{prettyPercentage(pool.tradingApr)}</td>\r\n            </tr>}\r\n            {pool.totalApy && <tr>\r\n              <td>Total APY</td>\r\n              <td>{prettyPercentage(pool.totalApy)}</td>\r\n            </tr>}\r\n            </tbody>\r\n          </Table>\r\n        </Popover.Content>\r\n      </Popover>\r\n    }\r\n  >\r\n    <Button variant=\"success\">Included</Button>\r\n  </OverlayTrigger> : pool.assets.length === 1 ? '-' : \"Unknown\"\r\n\r\nconst tvlFormatter = tvl => <span className={\r\n    numeral(tvl).value() >= 1000000 ? 'text-success' : \r\n    numeral(tvl).value() < 100000 ? 'text-danger' : ''}>{formatFiat(tvl)}</span>\r\n\r\nconst columns = [\r\n  {\r\n    dataField: \"network\",\r\n    text: \"Network\",\r\n    sort: true,\r\n    formatter: networkFormatter\r\n  },\r\n\r\n  {\r\n    dataField: \"platform\",\r\n    text: \"Platform\",\r\n    sort: true\r\n  },\r\n  {\r\n    dataField: \"name\",\r\n    text: \"Pool\",\r\n    formatter: poolFormatter\r\n  },\r\n  {\r\n    dataField: \"totalApy\",\r\n    text: \"APY\",\r\n    sort: true,\r\n    formatter: apyFormatter\r\n  },\r\n  {\r\n    dataField: \"monthlyApy\",\r\n    text: \"Monthly\",\r\n    sort: true,\r\n    formatter: monthlyFormatter\r\n  },\r\n  {\r\n    dataField: \"dailyApy\",\r\n    text: \"Daily\",\r\n    sort: true,\r\n    formatter: dailyFormatter\r\n  },\r\n  {\r\n    dataField: \"withdrawalFee\",\r\n    text: \"Withdraw\",\r\n    sort: true,\r\n    formatter: withdrawalFeeFormatter\r\n  },\r\n  {\r\n    dataField: \"depositFee\",\r\n    text: \"Deposit\",\r\n    sort: true,\r\n    formatter: depositFeeFormatter\r\n  },\r\n  // {\r\n  //   dataField: \"tradingApr\",\r\n  //   text: \"Trading Fees\",\r\n  //   formatter: tradingFeesFormatter\r\n  // },\r\n  {\r\n    dataField: \"safetyScore\",\r\n    text: \"Safe\",\r\n    sort: true,\r\n    formatter: safetyScoreFormatter\r\n  },\r\n  {\r\n    dataField: \"tvl\",\r\n    text: \"TVL\",\r\n    sort: true,\r\n    formatter: tvlFormatter\r\n  },\r\n]\r\n\r\nconst YieldTable = ({yields}) =>\r\n  <BootstrapTable\r\n    keyField=\"key\"\r\n    data={yields}\r\n    columns={columns}\r\n    expandRow={expandRow}\r\n    striped\r\n    hover\r\n    bootstrap4\r\n    defaultSorted={[{ dataField: 'totalApy', order: 'desc'}]}/>\r\n\r\nexport default YieldTable\r\n","import { createContext } from 'react'\r\n\r\nexport const emptyFilters = {\r\n  desiredCoins: '',\r\n  strictFilter: true,\r\n  exactMatch: false,\r\n  desiredPlatforms: '',\r\n  desiredNetworks: '',\r\n  includeSingleAssets: true,\r\n  includeLPs: true\r\n}\r\n\r\nexport const defaultFilters = {\r\n  ...emptyFilters,\r\n  desiredCoins: 'usdc dai busd usdt',\r\n}\r\n\r\nconst FiltersContext = createContext(defaultFilters)\r\n\r\nexport default FiltersContext","import React, {useContext} from 'react'\r\n\r\nimport './Filters.scss'\r\n\r\nimport Jumbotron from 'react-bootstrap/Jumbotron'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport {Form, ButtonGroup, Spinner} from 'react-bootstrap'\r\nimport FiltersContext, {emptyFilters, defaultFilters} from '../contexts/filters.context'\r\n\r\nconst Filters = ({loading, poolCount}) => {\r\n  const { filters, setFilters } = useContext(FiltersContext)\r\n\r\n  const handleChange = event => {\r\n    const { value, name } = event.target\r\n\r\n    setFilters({...filters, [name]: value })\r\n  }\r\n\r\n  const handleCheckBoxChange = event => {\r\n    const { checked, name } = event.target\r\n\r\n    setFilters({...filters, [name]: checked })\r\n  }\r\n\r\n  const { desiredCoins, strictFilter, exactMatch, desiredPlatforms, desiredNetworks, includeSingleAssets, includeLPs } = filters\r\n\r\n  return (\r\n      <Jumbotron className='filters'>\r\n        <Form.Group>\r\n          <Form.Label>💎 Coins to Ride</Form.Label>\r\n          <Form.Control name='desiredCoins' value={desiredCoins} size=\"sm\" type=\"text\" placeholder=\"e.g. usdc dai busd\" onChange={handleChange} />\r\n          <Form.Check>\r\n            <Form.Check.Input id='strictFilter' name='strictFilter' checked={strictFilter} type=\"checkbox\" onChange={handleCheckBoxChange} />\r\n            <Form.Check.Label htmlFor='strictFilter'>Show ONLY these coins <span className='silent'>(USDC won't show USDC-DAI)</span></Form.Check.Label>\r\n          </Form.Check>\r\n          <Form.Check>\r\n            <Form.Check.Input id='exactMatch' name='exactMatch' checked={exactMatch} type=\"checkbox\" onChange={handleCheckBoxChange} />\r\n            <Form.Check.Label htmlFor='exactMatch'>Exact Match <span className='silent'>(USDT won't match fUSDT)</span></Form.Check.Label>\r\n          </Form.Check>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group>\r\n          <Form.Check>\r\n            <Form.Check.Input id='includeLPs' name='includeLPs' checked={includeLPs}  type=\"checkbox\" onChange={handleCheckBoxChange} />\r\n            <Form.Check.Label htmlFor='includeLPs'>Include Liquidity Pools</Form.Check.Label>\r\n          </Form.Check>\r\n          <Form.Check>\r\n            <Form.Check.Input id='includeSingleAssets' name='includeSingleAssets' checked={includeSingleAssets} type=\"checkbox\" onChange={handleCheckBoxChange} />\r\n            <Form.Check.Label htmlFor='includeSingleAssets'>Include Single Assets</Form.Check.Label>\r\n          </Form.Check>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group>\r\n          <Form.Label>🏰 Platforms to Ride</Form.Label>\r\n          <Form.Control name='desiredPlatforms' value={desiredPlatforms} size=\"sm\" type=\"text\" placeholder=\"e.g. cake aave sushi\" onChange={handleChange}/>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group>\r\n          <Form.Label>🌐 Networks to Ride</Form.Label>\r\n          <Form.Control name='desiredNetworks' value={desiredNetworks} size=\"sm\" type=\"text\" placeholder=\"e.g. bsc polygon\" onChange={handleChange}/>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <span>{loading ? <>Loading pools... <Spinner size='sm' animation=\"border\" role=\"status\"/></> :\r\n          poolCount === 0 ? 'No pools found, please check your filters' :\r\n            `Found ${poolCount} pool${poolCount === 1 ? '' : 's'} on 🐮 Beefy Finance.`}</span>\r\n        <ButtonGroup className='reset-filters-btn'>\r\n          <Button size='sm' variant='info' onClick={() => { setFilters(emptyFilters)}}>Clear Filters</Button>\r\n          <Button size='sm' variant='success' onClick={() => { setFilters(defaultFilters)}}>Default Filters</Button>\r\n        </ButtonGroup>\r\n      </Jumbotron>\r\n  )\r\n}\r\n\r\nexport default Filters\r\n","import {Nav, Navbar, OverlayTrigger, Tooltip} from 'react-bootstrap'\r\n\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport './TopNavbar.scss'\r\nimport {useState} from 'react'\r\n\r\nconst TopNavbar = () => {\r\n  const [copied, setCopied] = useState(false)\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\">\r\n        <Navbar.Brand href=\"\">\r\n          <img\r\n            alt=\"\"\r\n            src=\"/hat_short.png\"\r\n            className=\"navbar-image\"\r\n          />{'   '}\r\n          <span className='navbar-title'>yield.rodeo</span>\r\n        </Navbar.Brand>\r\n        <Nav className=\"ml-auto\">\r\n          <OverlayTrigger\r\n            placement=\"bottom\"\r\n            overlay={<Tooltip>{copied ? 'Copied!' : 'Click to copy!'}</Tooltip>}\r\n          >\r\n            <CopyToClipboard text={'0x6e1b11ad54068dd3C7A2cAf334A7010f0B59511C'}\r\n            onCopy={() => {\r\n              setCopied(true)\r\n              setTimeout(() => { setCopied(false) },1000)\r\n            }}>\r\n              <span>❤️ Donate: 0x6e1b11ad54068dd3C7A2cAf334A7010f0B59511C ❤️</span>\r\n            </CopyToClipboard>\r\n          </OverlayTrigger>\r\n        </Nav>\r\n      <Nav>\r\n        <Nav.Link className='navbar-contact' href={'https://naezith.com/?id=contact'} target=\"_blank\" rel=\"noreferrer\">Contact</Nav.Link>\r\n      </Nav>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default TopNavbar","import { createContext } from 'react'\r\n\r\nexport const emptyInputs = {\r\n  capital: 100000,\r\n  amountBefore: 100000,\r\n  amountAfter: 125000\r\n}\r\n\r\nexport const defaultInputs = {\r\n  ...emptyInputs\r\n}\r\n\r\nconst InputsContext = createContext(defaultInputs)\r\n\r\nexport default InputsContext","import React, {useContext} from 'react'\r\n\r\nimport './Filters.scss'\r\n\r\nimport Jumbotron from 'react-bootstrap/Jumbotron'\r\nimport {Form, InputGroup} from 'react-bootstrap'\r\nimport InputsContext from '../contexts/inputs.context'\r\nimport {formatAny} from '../utility/utils'\r\n\r\nconst Inputs = () => {\r\n  const { inputs, setInputs } = useContext(InputsContext)\r\n\r\n  const handleChange = event => {\r\n    const { value, name } = event.target\r\n\r\n    setInputs({...inputs, [name]: value })\r\n  }\r\n\r\n  const { capital, amountBefore, amountAfter } = inputs\r\n\r\n  const amountDifference = amountAfter - amountBefore\r\n  const pnl = amountDifference / amountBefore\r\n  const fieldsAreValid = amountAfter !== '' && amountBefore !== ''\r\n  const sign = pnl > 0 ? '+' : ''\r\n\r\n  return (\r\n    <Jumbotron className='filters'>\r\n      <Form.Label>💰 Capital</Form.Label>\r\n      <InputGroup className=\"mb-3\" size=\"sm\">\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>$</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <Form.Control name='capital' value={capital} type=\"number\" placeholder=\"e.g. 1000\" onChange={handleChange} />\r\n      </InputGroup>\r\n\r\n      <hr/>\r\n\r\n      <Form.Label>🖩 Profit % Calculator </Form.Label>\r\n      <InputGroup className=\"mb-3\" size=\"sm\">\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>Before</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <Form.Control name='amountBefore' value={amountBefore} type=\"number\" placeholder=\"e.g. 1000\" onChange={handleChange} />\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>After</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <Form.Control name='amountAfter' value={amountAfter} type=\"number\" placeholder=\"e.g. 1000\" onChange={handleChange} />\r\n      </InputGroup>\r\n      <Form.Label className={ !fieldsAreValid || pnl > 0 ? 'text-success' : pnl < 0 ? 'text-danger' : ''}>\r\n        { fieldsAreValid ? 'P&L: ' + sign + formatAny(amountDifference, '0,0.[000]') + ' (' + sign + formatAny(pnl, '0.[000]%') + ')' :\r\n          'Please fill the fields'}\r\n      </Form.Label>\r\n    </Jumbotron>\r\n  )\r\n}\r\n\r\nexport default Inputs\r\n","import React, {useEffect, useState} from 'react'\r\n\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nimport './App.css'\r\nimport {getYieldsWithPrices} from './utility/api'\r\nimport YieldTable from './components/YieldTable'\r\nimport Filters from './components/Filters'\r\nimport FiltersContext, {defaultFilters} from './contexts/filters.context'\r\nimport TopNavbar from './components/TopNavbar'\r\nimport {addApyValues, filterPools} from './utility/utils'\r\nimport {Col, Spinner} from 'react-bootstrap'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Inputs from './components/Inputs'\r\nimport InputsContext, {defaultInputs} from './contexts/inputs.context'\r\n\r\nconst App = () => {\r\n  const [yields, setYields] = useState([])\r\n  const [inputs, setInputs] = useState(defaultInputs)\r\n  const [filters, setFilters] = useState(defaultFilters)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      // Get yields\r\n      setLoading(true)\r\n      const _yields = await getYieldsWithPrices()\r\n      setLoading(false)\r\n      setYields(_yields)\r\n    }\r\n    fetchData()\r\n  }, [])\r\n\r\n  const finalYields = addApyValues(filterPools(yields, filters).map(pool => ({ ...pool, self: pool })), inputs.capital)\r\n  return (\r\n    <div className='full-height'>\r\n      <Container className=\"p-3 App\">\r\n        <Row>\r\n          <Col>\r\n          <TopNavbar />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n\r\n      <InputsContext.Provider value={{inputs, setInputs}}>\r\n      <FiltersContext.Provider value={{filters, setFilters}}>\r\n      <Container className=\"p-3 App\">\r\n        <Row>\r\n          <Col>\r\n            <Filters loading={loading} poolCount={finalYields.length}/>\r\n          </Col>\r\n          <Col>\r\n            <Inputs />\r\n          </Col>\r\n        </Row>\r\n          { loading ?\r\n            <Spinner animation=\"border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </Spinner> :\r\n\r\n            <Row>\r\n              <Col>\r\n                <YieldTable yields={finalYields} />\r\n              </Col>\r\n            </Row>\r\n          }\r\n      </Container>\r\n      </FiltersContext.Provider>\r\n      </InputsContext.Provider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './bootswatch-darkly-bootstrap.css';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import {calcDaily, calcMonthly} from './utils'\r\nimport safetyScore from './safetyScore'\r\n\r\nconst fetchPlus = (url, options = {}, retries = 150) =>\r\n  fetch(url, options)\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res\r\n      }\r\n      if (retries > 0) {\r\n        return fetchPlus(url, options, retries - 1)\r\n      }\r\n      throw new Error(res.status)\r\n    })\r\n    .catch(error => console.error(error.message))\r\n\r\nconst getRandomParam = () => \"?p=\" + (new Date()).getTime()\r\n\r\nconst networks = ['avalanche', 'bsc', 'fantom', 'heco', 'polygon', 'arbitrum', 'harmony', 'celo', 'moonriver', 'cronos', 'fuse', 'metis', 'aurora']\r\nconst network_info = {\r\n  'bsc': {\r\n    id: 56,\r\n    explorer: 'https://bscscan.com/'\r\n  },\r\n  'heco': {\r\n    id: 128,\r\n    explorer: 'https://hecoinfo.com/'\r\n  },\r\n  'polygon': {\r\n    id: 137,\r\n    explorer: 'https://polygonscan.com/'\r\n  },\r\n  'fantom': {\r\n    id: 250,\r\n    explorer: 'https://ftmscan.com/'\r\n  },\r\n  'avalanche': {\r\n    id: 43114,\r\n    explorer: 'https://cchain.explorer.avax.network/'\r\n  },\r\n  'arbitrum': {\r\n    id: 42161,\r\n    explorer: 'https://arbiscan.io/'\r\n  },\r\n  'harmony': {\r\n    id: 1666600000,\r\n    explorer: 'https://explorer.harmony.one/'\r\n  },\r\n  'celo': {\r\n    id: 42220,\r\n    explorer: 'https://explorer.celo.org/'\r\n  },\r\n  'moonriver': {\r\n    id: 1285,\r\n    explorer: 'https://blockscout.moonriver.moonbeam.network/'\r\n  },\r\n  'cronos': {\r\n    id: 25,\r\n    explorer: 'https://cronos.crypto.org/explorer/'\r\n  },\r\n  'fuse': {\r\n    id: 122,\r\n    explorer: 'https://explorer.fuse.io/'\r\n  },\r\n  'metis': {\r\n    id: 1088,\r\n    explorer: 'https://andromeda-explorer.metis.io/'\r\n  },\r\n  'aurora': {\r\n    id: 1313161554,\r\n    explorer: 'https://explorer.mainnet.aurora.dev/'\r\n  },\r\n}\r\n\r\nconst getPools = async (network, type) => {\r\n  const result = await fetch(\r\n      (type === 'stake' ?\r\n          `https://raw.githubusercontent.com/beefyfinance/beefy-app/prod/src/features/configure/stake/${network}_stake.js` :\r\n          `https://raw.githubusercontent.com/beefyfinance/beefy-app/prod/src/features/configure/vault/${network}_pools.js`)\r\n          + getRandomParam())\r\n\r\n  let text = await result.text()\r\n  const beginningText = ' = ['\r\n  const endingText = '];'\r\n  text = text.substr(text.indexOf(beginningText) + beginningText.length - 1,\r\n      text.indexOf(endingText) - endingText.length)\r\n      .replace(/earnContractAbi: govPoolABI,/g, '')\r\n      .replace(/, '4BELT'/g, '')\r\n      .replace(/partners: \\[.*\\]/g, 'partners: []')\r\n\r\n  const jsonObj = eval(text)\r\n\r\n  for(let pool of jsonObj) {\r\n    pool.network = network\r\n    pool.network_id = network_info[network].id\r\n    pool.key = network + '-' + pool.id\r\n    pool.type = type // stake or pool\r\n\r\n    // Fix withdrawalFee formatting, API bad formatting\r\n    if(pool.withdrawalFee && pool.withdrawalFee.length > 0) {\r\n      if(pool.withdrawalFee === \"0.0%\") {\r\n        pool.withdrawalFee = \"0%\"\r\n      }\r\n      if(pool.withdrawalFee[0] === '.') {\r\n        pool.withdrawalFee = \"0\" + pool.withdrawalFee\r\n      }\r\n    }\r\n\r\n\r\n    if(pool.assets) {\r\n      pool.assets = pool.assets.sort()\r\n      pool.name = ''\r\n      for(let a of pool.assets) {\r\n        if(pool.name !== '') pool.name += ' · '\r\n        pool.name += a\r\n      }\r\n    }\r\n\r\n    // Fix depositFee formatting, API bad formatting\r\n    if(pool.depositFee && pool.depositFee.length > 0) {\r\n      if(pool.depositFee[0] === '.') {\r\n        pool.depositFee = \"0\" + pool.depositFee\r\n      }\r\n      pool.depositFee = pool.depositFee.replace(\"<\", \"\")\r\n    }\r\n  }\r\n\r\n  return jsonObj\r\n}\r\n\r\nconst fetchAllPools = async () => {\r\n  let pools = {\r\n    'stake': {},\r\n    'pool': {},\r\n  }\r\n\r\n  await Promise.all(Object.keys(pools).map(async type => {\r\n    await Promise.all(networks.map(async network => {\r\n      pools[type][network] = await getPools(network, type)\r\n    }))\r\n  }))\r\n\r\n\r\n  let allCombined = []\r\n\r\n  for(let type of Object.keys(pools))\r\n    for(let network of networks)\r\n      allCombined = allCombined.concat(pools[type][network])\r\n\r\n  return allCombined\r\n}\r\n\r\nexport const getYieldsWithPrices = async () => {\r\n  const yields = await fetchAllPools()\r\n  const prices = await (await fetchPlus('https://api.beefy.finance/lps' + getRandomParam())).json()\r\n  const apyBreakdowns = await (await fetchPlus('https://api.beefy.finance/apy/breakdown' + getRandomParam())).json()\r\n  const tvls = await (await fetchPlus('https://api.beefy.finance/tvl' + getRandomParam())).json()\r\n\r\n  return yields.map(pool => {\r\n    const lpPrice = prices[pool.id]\r\n    const tvlToken = tvls[pool.network_id] ? tvls[pool.network_id][pool.id] : ''\r\n    const apyBreakdown = apyBreakdowns[pool.id]\r\n    const score = safetyScore(pool.risks)\r\n    return {\r\n      vaultUrl: beefyUrl(pool.network, pool.id),  \r\n      withdrawalFee: '0.1%',\r\n      depositFee: '0%',\r\n      dailyApy: apyBreakdown && calcDaily(apyBreakdown.totalApy),\r\n      monthlyApy: apyBreakdown && calcMonthly(apyBreakdown.totalApy),\r\n      ...pool,\r\n      lpPrice: lpPrice,\r\n      tvl: tvlToken,\r\n      ...apyBreakdown,\r\n      safetyScore: score === null ? 9.991337 : score,\r\n    }\r\n  }).filter(pool => pool.tvl > 0 && pool.totalApy > 0.0001)\r\n      .sort((a, b) => a.totalApy < b.totalApy ? 1 : -1)\r\n}\r\n\r\n// Get coin logo formats\r\nlet logosMap = JSON.parse(window.localStorage.getItem('logosMap'))\r\n\r\nconst getLogos = async () => {\r\n  if(!logosMap || logosMap.nextRefreshTime <= Date.now()) {\r\n    logosMap = {}\r\n    const githubRequestCount = 2\r\n    let canFetch = (await (await fetch('https://api.github.com/rate_limit')).json()).rate.remaining >= githubRequestCount \r\n    if(canFetch) {\r\n      let lastCommitSha = (await (await fetch('https://api.github.com/repos/beefyfinance/beefy-app/commits/master')).json()).sha\r\n      let repoPaths = await (await fetch(`https://api.github.com/repos/beefyfinance/beefy-app/git/trees/${lastCommitSha}?recursive=1`)).json()\r\n      \r\n      // Map paths to coins\r\n      for(let item of repoPaths.tree) {\r\n        if(item.path === 'src/images/single-assets') {\r\n          let saLogosFolder = await (await fetch(item.url)).json()\r\n\r\n          for(let item of saLogosFolder.tree) {\r\n            let coinName = item.path.split('.')[0]\r\n            logosMap[coinName] = item.path\r\n          }\r\n\r\n          break\r\n        }\r\n      }\r\n\r\n      // Save\r\n      logosMap.nextRefreshTime = Date.now() + 15 * 60000\r\n      window.localStorage.setItem('logosMap', JSON.stringify(logosMap))\r\n    }\r\n  }\r\n}\r\ngetLogos()\r\n\r\nexport const coinLogoUrl = (ticker) => 'https://raw.githubusercontent.com/beefyfinance/beefy-app/master/src/images/single-assets/'  + logosMap[ticker]\r\nexport const poolLogoUrl = path => 'https://raw.githubusercontent.com/beefyfinance/beefy-app/master/src/images/'  + path\r\nexport const addressUrl = (network, address) => network_info[network].explorer + 'address/' + address\r\nexport const beefyUrl = (network, id) => 'https://beta.beefy.finance/#/'+ network + '/vault/' + id","// https://github.com/beefyfinance/beefy-landing-v2/blob/main/src/helpers/safetyScore.js\n// https://github.com/beefyfinance/beefy-landing-v2/blob/main/src/config/risk.js\nexport const MAX_SCORE = 10;\n\nexport const RISKS = {\n  COMPLEXITY_LOW: {\n    category: 'Categry-Beefy',\n    score: 0,\n    title: 'Complexity-Low-Titl',\n    explanation: 'Complexity-Low-Expl',\n    condition: 'Complexity-Low-Cond',\n  },\n\n  COMPLEXITY_MID: {\n    category: 'Categry-Beefy',\n    score: 0.3,\n    title: 'Complexity-Mid-Titl',\n    explanation: 'Complexity-Mid-Expl',\n    condition: 'Complexity-Mid-Cond',\n  },\n\n  COMPLEXITY_HIGH: {\n    category: 'Categry-Beefy',\n    score: 0.5,\n    title: 'Complexity-Hi-Titl',\n    explanation: 'Complexity-Hi-Expl',\n    condition: 'Complexity-Hi-Cond',\n  },\n\n  BATTLE_TESTED: {\n    category: 'Categry-Beefy',\n    score: 0,\n    title: 'Testd-Battle-Titl',\n    explanation: 'Testd-Battle-Expl',\n    condition: 'Testd-Battle-Cond',\n  },\n\n  NEW_STRAT: {\n    category: 'Categry-Beefy',\n    score: 0.3,\n    title: 'Testd-New-Titl',\n    explanation: 'Testd-New-Expl',\n    condition: 'Testd-New-Cond',\n  },\n\n  EXPERIMENTAL_STRAT: {\n    category: 'Categry-Beefy',\n    score: 0.7,\n    title: 'Testd-Experimtl-Titl',\n    explanation: 'Testd-Experimtl-Expl',\n    condition: 'Testd-Experimtl-Cond',\n  },\n\n  IL_NONE: {\n    category: 'Categry-Asset',\n    score: 0,\n    title: 'IL-None-Titl',\n    explanation: 'IL-None-Expl',\n    condition: 'IL-None-Cond',\n  },\n\n  IL_LOW: {\n    category: 'Categry-Asset',\n    score: 0.2,\n    title: 'IL-Low-Titl',\n    explanation: 'IL-Low-Expl',\n    condition: 'IL-Low-Cond',\n  },\n\n  IL_HIGH: {\n    category: 'Categry-Asset',\n    score: 0.5,\n    title: 'IL-High-Titl',\n    explanation: 'IL-High-Expl',\n    condition: 'IL-High-Cond',\n  },\n\n  ALGO_STABLE: {\n    category: 'Categry-Asset',\n    score: 0.5,\n    title: 'IL-AlgoStable-Titl',\n    explanation: 'IL-AlgoStable-Expl',\n    condition: 'IL-AlgoStable-Cond',\n  },\n\n  LIQ_HIGH: {\n    category: 'Categry-Asset',\n    score: 0,\n    title: 'Liquidt-High-Titl',\n    explanation: 'Liquidt-High-Expl',\n    condition: 'Liquidt-High-Cond',\n  },\n\n  LIQ_LOW: {\n    category: 'Categry-Asset',\n    score: 0.3,\n    title: 'Liquidt-Low-Titl',\n    explanation: 'Liquidt-Low-Expl',\n    condition: 'Liquidt-Low-Cond',\n  },\n\n  MCAP_LARGE: {\n    category: 'Categry-Asset',\n    score: 0,\n    title: 'MktCap-Large-Titl',\n    explanation: 'MktCap-Large-Expl',\n    condition: 'MktCap-Large-Cond',\n  },\n\n  MCAP_MEDIUM: {\n    category: 'Categry-Asset',\n    score: 0.1,\n    title: 'MktCap-Mid-Titl',\n    explanation: 'MktCap-Mid-Expl',\n    condition: 'MktCap-Mid-Cond',\n  },\n\n  MCAP_SMALL: {\n    category: 'Categry-Asset',\n    score: 0.3,\n    title: 'MktCap-Small-Titl',\n    explanation: 'MktCap-Small-Expl',\n    condition: 'MktCap-Small-Cond',\n  },\n\n  MCAP_MICRO: {\n    category: 'Categry-Asset',\n    score: 0.5,\n    title: 'MktCap-Micro-Titl',\n    explanation: 'MktCap-Micro-Expl',\n    condition: 'MktCap-Micro-Cond',\n  },\n\n  SUPPLY_CENTRALIZED: {\n    category: 'Categry-Asset',\n    score: 1,\n    title: 'Concentrated-Titl',\n    explanation: 'Concentrated-Expl',\n    condition: 'Concentrated-Cond',\n  },\n\n  PLATFORM_ESTABLISHED: {\n    category: 'Categry-Platform',\n    score: 0,\n    title: 'Platfrm-Establshd-Titl',\n    explanation: 'Platfrm-Establshd-Expl',\n    condition: 'Platfrm-Establshd-Cond',\n  },\n\n  PLATFORM_NEW: {\n    category: 'Categry-Platform',\n    score: 0.5,\n    title: 'Platfrm-New-Titl',\n    explanation: 'Platfrm-New-Expl',\n    condition: 'Platfrm-New-Cond',\n  },\n\n  NO_AUDIT: {\n    category: 'Categry-Platform',\n    score: 0.3,\n    title: 'Platfrm-AuditNo-Titl',\n    explanation: 'Platfrm-AuditNo-Expl',\n    condition: 'Platfrm-AuditNo-Cond',\n  },\n\n  AUDIT: {\n    category: 'Categry-Platform',\n    score: 0,\n    title: 'Platfrm-Audit-Titl',\n    explanation: 'Platfrm-Audit-Expl',\n    condition: 'Platfrm-Audit-Cond',\n  },\n\n  CONTRACTS_VERIFIED: {\n    category: 'Categry-Platform',\n    score: 0,\n    title: 'Platfrm-Verified-Titl',\n    explanation: 'Platfrm-Verified-Expl',\n    condition: 'Platfrm-Verified-Cond',\n  },\n\n  CONTRACTS_UNVERIFIED: {\n    category: 'Categry-Platform',\n    score: 1,\n    title: 'Platfrm-VerifiedNo-Titl',\n    explanation: 'Platfrm-VerifiedNo-Expl',\n    condition: 'Platfrm-VerifiedNo-Cond',\n  },\n\n  ADMIN_WITH_TIMELOCK: {\n    category: 'Categry-Platform',\n    score: 0,\n    title: 'Platfrm-Timelock-Titl',\n    explanation: 'Platfrm-Timelock-Expl',\n    condition: 'Platfrm-Timelock-Cond',\n  },\n\n  ADMIN_WITHOUT_TIMELOCK: {\n    category: 'Categry-Platform',\n    score: 0.5,\n    title: 'Platfrm-TimelockNo-Titl',\n    explanation: 'Platfrm-TimelockNo-Expl',\n    condition: 'Platfrm-TimelockNo-Cond',\n  },\n};\n\nexport const CATEGORIES = {\n  'Categry-Beefy': 0.2,\n  'Categry-Asset': 0.2,\n  'Categry-Platform': 0.6,\n};\n\nconst calcRisk = arr => {\n  const categories = {};\n  for (const c in CATEGORIES) {\n    categories[c] = [];\n  }\n\n  // reverse lookup\n  arr.forEach((r, idx) => {\n    if (!(r in RISKS)) {\n      //console.warn('unknown risk', r);\n      return;\n    }\n\n    const cat = RISKS[r].category;\n    if (!(cat in CATEGORIES)) {\n      console.warn('unknown category', cat);\n      return;\n    }\n\n    categories[cat].push(r);\n  });\n\n  // reduce & clamp\n  let risk = 0;\n  for (const c in CATEGORIES) {\n    const w = CATEGORIES[c];\n    risk +=\n      w *\n      Math.min(\n        1,\n        categories[c].reduce((acc, r) => acc + RISKS[r].score, 0)\n      );\n  }\n\n  return risk;\n};\n\nconst safetyScore = arr => {\n  if (!arr || arr.length === 0) return null;\n\n  return (MAX_SCORE * (1 - calcRisk(arr)));\n};\n\nexport default safetyScore;"],"sourceRoot":""}